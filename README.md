# Lambda360Model

このリポジトリは、画像や3Dスキャンデータから高忠実度なパラメトリックCADモデル（STEP形式）を生成するためのワークフローとツーリングを開発するプロジェクトです。

## 目的

LLMを用いた画像からの直接的なCADコード生成では、寸法精度や複雑な曲面の表現に限界があります。本プロジェクトでは、フォトグラメトリやAIによるメッシュ生成とパラメトリックCAD（`build123d`）を組み合わせたハイブリッドアプローチを採用し、以下の実現を目指しています。

1.  **高精度な寸法再現**: スキャンデータ（STL）を正解値として比較検証。
2.  **編集容易性**: 履歴を持つパラメトリックなCADデータの生成。
3.  **自動化・効率化**: `compare.py` による差分検出とフィードバックループ。

## ワークフロー

1.  **スキャン/メッシュ生成**: 対象物（エンジン等）を撮影し、フォトグラメトリ等でSTLを生成。
2.  **パラメトリックモデリング**: `model/` 以下のPythonスクリプトで形状を定義（`build123d` 使用）。
3.  **自動比較**: `make compare-<model>` で生成モデルとスキャンデータを比較（寸法差分、オーバーレイ画像）。
4.  **反復修正**: 比較結果（`dimensions.txt`等）を基にパラメータを調整し、精度を向上させる。

## ファイル構成

*   `model/`: `build123d` によるモデル定義スクリプト群。
*   `compare.py`: 生成されたSTEP/STLと参照STLを位置合わせして比較し、差分画像を生成するスクリプト。
*   `render.py`: モデルのレンダリングを行うスクリプト。
*   `REPORT.md`: 手法の検討詳細、課題、および推奨アプローチのドキュメント。

## 依存関係

*   `uv`: パッケージ管理
*   `build123d`: パラメトリックモデリングライブラリ
*   `trimesh`: メッシュ処理ライブラリ
*   `pyvista`: 3D可視化ライブラリ

詳細は `REPORT.md` を参照してください。
